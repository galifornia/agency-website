import type { NextPage } from 'next';
import Head from 'next/head';
import useSWR from 'swr';
import AboutUs from '../components/about_us';
import ContactUs from '../components/contact-us';
import Footer from '../components/footer';
import MastHead from '../components/masthead';
import Skills from '../components/skills';
import TrustedBy from '../components/trusted_by';
import Works from '../components/works';

const fetcher = (input: any, init?: any) =>
  fetch(input, init).then((res) => res.json());

const Home: NextPage = () => {
  const { data } = useSWR('/api/stats', fetcher);

  return (
    <div>
      <Head>
        <title>Beatitudo</title>
        {/* <meta name='description' content='Generated by create next app' /> */}
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <MastHead />
      <AboutUs />
      <Skills
        commits={data?.commits.toLocaleString('en-US')}
        downloads={data?.downloads.toLocaleString('en-US')}
      />
      <Works />
      <TrustedBy />
      <ContactUs />
      <Footer />
    </div>
  );
};

export default Home;
